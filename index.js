import{A as O,i as u,a as L,S as q,N as I,K as j,M as B}from"./assets/vendor-D8eQJErS.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const s of n.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function i(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(o){if(o.ep)return;o.ep=!0;const n=i(o);fetch(o.href,n)}})();new O(".accordion-container",{duration:750,showMultiple:!1,openOnInit:[0],onOpen:function(e){}});(()=>{const e=document.querySelector(".js-menu-container"),t=document.querySelector(".burger-btn"),i=document.querySelector(".js-close-menu"),r=document.querySelectorAll(".js-mob-link"),o=()=>{const n=t.getAttribute("aria-expanded")==="true"||!1;t.setAttribute("aria-expanded",!n),e.classList.toggle("is-open");const s=n?"enableBodyScroll":"disableBodyScroll";bodyScrollLock[s](document.body)};r.forEach(n=>{n.addEventListener("click",o)}),t.addEventListener("click",o),i.addEventListener("click",o),window.matchMedia("(min-width: 1279px)").addEventListener("change",n=>{n.matches&&(e.classList.remove("is-open"),t.setAttribute("aria-expanded",!1),bodyScrollLock.enableBodyScroll(document.body))})})();document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("btn_my_project_first"),t=3;if(!e){console.error("Кнопка з ID 'btn_my_project_first' не знайдена!");return}let r=Array.from(document.querySelectorAll(".list_my_project")).filter(s=>s.classList.contains("hidden"));function o(){const s=Array.from(document.querySelectorAll(".list_my_project:not(.hidden)"));if(s.forEach(d=>d.style.marginBottom="0"),s.length>0&&e&&e.offsetParent!==null){const d=s[s.length-1],A=getComputedStyle(document.documentElement).getPropertyValue("--margin-bottom");d.style.marginBottom=A}}function n(){r.length,r.slice(0,t).forEach(s=>{s.style.display="block",s.classList.remove("hidden")}),r=r.slice(t),r.length||(e.style.display="none",e.setAttribute("aria-hidden","true")),o()}e.addEventListener("click",n),o(),window.addEventListener("resize",o)});const w=document.querySelector("#switch"),c=document.body,m="switch";document.addEventListener("DOMContentLoaded",x);w.addEventListener("click",e=>{e.target.checked?(c.classList.replace("light","dark"),v(m,"dark")):(c.classList.replace("dark","light"),v(m,"light"))});function x(){P(m)==="dark"?(c.classList.replace("light","dark"),w.checked=!0):c.classList.replace("dark","light")}function v(e,t){try{const i=JSON.stringify(t);localStorage.setItem(e,i)}catch(i){console.log(i)}}function P(e){try{const t=localStorage.getItem(e);return t===null?void 0:JSON.parse(t)}catch(t){console.log(t)}}const _=document.querySelector(".together-form"),a=document.getElementById("user-email"),p=document.querySelector(".email-correct-icon"),f=document.querySelector(".input-textarea"),y=document.querySelector(".together-invalid-email"),l=document.querySelector(".backdrop"),D=document.querySelector(".pop-up-close-btn"),b=/^\w+(\.\w+)?@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/,T="https://portfolio-js.b.goit.study/api/requests";let g=!1;const N=()=>{b.test(a.value)?(p.classList.remove("d-none"),y.classList.add("d-none"),a.classList.remove("form-input-name-error")):p.classList.add("d-none")},S=()=>{a.value="",f.value="",p.classList.add("d-none"),y.classList.add("d-none"),a.classList.remove("form-input-name-error")},z=async e=>{if(e.preventDefault(),!b.test(a.value)){y.classList.remove("d-none"),a.classList.add("form-input-name-error");return}if(f.value.trim()===""){u.error({message:"All fields must be completed!",position:"topRight",maxWidth:"300px"});return}const t={email:a.value.trim(),comment:f.value.trim()};try{await L.post(T,t),l.classList.add("is-open"),g=!0,document.addEventListener("keydown",E),S()}catch{u.error({message:"Ops! Something went wrong. Please try again!",position:"topRight",maxWidth:"300px"})}},h=()=>{l.classList.remove("is-open"),g=!1,document.removeEventListener("keydown",E)},E=e=>{e.key==="Escape"&&g&&h()};a.addEventListener("input",N);_.addEventListener("submit",z);D.addEventListener("click",h);l.addEventListener("click",e=>{e.target===l&&h()});document.addEventListener("DOMContentLoaded",S);const k=document.querySelector(".js-load-reviews"),C={root:null,rootMargin:"0px",threshold:0},R=new IntersectionObserver(K,C);R.observe(k);function K(e,t){e.forEach(async i=>{if(i.isIntersecting){t.unobserve(k);try{await V(),F()}catch(r){alert(r.message)}}})}async function V(){await L.get("https://portfolio-js.b.goit.study/api/reviews").then(e=>{$(e.data)}).catch(()=>{H("Reviews not found"),document.querySelector(".swiper-wrapper").insertAdjacentHTML("beforeend",'<li class="not-found"><p class="not-found-text">Not Found</p></li>')})}function $(e){const t=document.querySelector(".swiper-wrapper");let i=e.map(r=>`
    <li class="swiper-slide">
        <p class="review-text">
          ${r.review}
        </p>
        <div class="review-thumb">
          <img class="review-avatar" src="${r.avatar_url}" alt="Autor: ${r.author}">
          <p class="review-author">${r.author}</p>
        </div>
      </li>`).join("");t.insertAdjacentHTML("beforeend",i)}function F(){new q(".swiper",{modules:[I,j,B],navigation:{nextEl:".reviews-button-next",prevEl:".reviews-button-prev"},keyboard:{enabled:!0,onlyInViewport:!1,pageUpDown:!0},mousewheel:{enabled:!0},slidesPerView:1,spaceBetween:32,breakpoints:{1280:{slidesPerView:2}}})}function H(e,t="red"){u.show({icon:"icon-person",message:e,color:t,position:"topRight",transitionIn:"bounceInDown",transitionOut:"flipOutX",closeOnClick:!0,displayMode:"replace",timeout:3e3})}let M=document.querySelector(".preloader");function W(e){e.style.opacity=1;let t=setInterval(function(){e.style.opacity=e.style.opacity-.05,e.style.opacity<=.05&&(clearInterval(t),M.style.display="none")},20)}window.onload=function(){setTimeout(function(){W(M)},2500)};
//# sourceMappingURL=index.js.map
